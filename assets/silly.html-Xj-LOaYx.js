import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,a as n,b as l,e as s,d as a,w as t,r as o,o as h}from"./app-BkVDyq7v.js";const p={};function g(c,i){const e=o("RouteLink");return h(),d("div",null,[i[17]||(i[17]=n(`<h1 id="silly" tabindex="-1"><a class="header-anchor" href="#silly"><span>silly</span></a></h1><p>核心模块，提供基础工具函数和进程管理功能。</p><h2 id="模块导入" tabindex="-1"><a class="header-anchor" href="#模块导入"><span>模块导入</span></a></h2><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> silly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="常量属性" tabindex="-1"><a class="header-anchor" href="#常量属性"><span>常量属性</span></a></h2><h3 id="silly-pid" tabindex="-1"><a class="header-anchor" href="#silly-pid"><span>silly.pid</span></a></h3><ul><li><strong>类型</strong>: <code>integer</code></li><li><strong>说明</strong>: 当前进程ID</li></ul><h3 id="silly-gitsha1" tabindex="-1"><a class="header-anchor" href="#silly-gitsha1"><span>silly.gitsha1</span></a></h3><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>说明</strong>: 构建时的Git SHA1版本号</li></ul><h3 id="silly-version" tabindex="-1"><a class="header-anchor" href="#silly-version"><span>silly.version</span></a></h3><ul><li><strong>类型</strong>: <code>string</code></li><li><strong>说明</strong>: Silly框架版本号</li></ul><h2 id="核心函数" tabindex="-1"><a class="header-anchor" href="#核心函数"><span>核心函数</span></a></h2><h3 id="silly-genid" tabindex="-1"><a class="header-anchor" href="#silly-genid"><span>silly.genid()</span></a></h3><p>生成全局唯一ID。</p><ul><li><strong>返回值</strong>: <code>integer</code> - 唯一ID</li><li><strong>示例</strong>:</li></ul><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> silly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">silly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="silly-tostring-ptr" tabindex="-1"><a class="header-anchor" href="#silly-tostring-ptr"><span>silly.tostring(ptr)</span></a></h3><p>将C指针转换为字符串表示。</p><ul><li><strong>参数</strong>: <ul><li><code>ptr</code>: <code>lightuserdata</code> - C指针</li></ul></li><li><strong>返回值</strong>: <code>string</code> - 指针的十六进制字符串表示</li></ul><h3 id="silly-register-msgtype-handler" tabindex="-1"><a class="header-anchor" href="#silly-register-msgtype-handler"><span>silly.register(msgtype, handler)</span></a></h3><p>注册消息处理函数（内部API，业务代码不应使用）。</p><ul><li><strong>参数</strong>: <ul><li><code>msgtype</code>: <code>integer</code> - 消息类型</li><li><code>handler</code>: <code>function</code> - 处理函数</li></ul></li></ul><h2 id="协程管理" tabindex="-1"><a class="header-anchor" href="#协程管理"><span>协程管理</span></a></h2>`,23)),l("p",null,[i[1]||(i[1]=s("请参考 ",-1)),a(e,{to:"/reference/task.html"},{default:t(()=>[...i[0]||(i[0]=[s("silly.task",-1)])]),_:1}),i[2]||(i[2]=s(" 模块。",-1))]),i[18]||(i[18]=n(`<h3 id="silly-exit-status" tabindex="-1"><a class="header-anchor" href="#silly-exit-status"><span>silly.exit(status)</span></a></h3><p>退出Silly进程。</p><ul><li><strong>参数</strong>: <ul><li><code>status</code>: <code>integer</code> - 退出码</li></ul></li><li><strong>示例</strong>:</li></ul><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> silly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">silly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 正常退出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="任务统计" tabindex="-1"><a class="header-anchor" href="#任务统计"><span>任务统计</span></a></h2>`,5)),l("p",null,[i[4]||(i[4]=s("请参考 ",-1)),a(e,{to:"/reference/task.html"},{default:t(()=>[...i[3]||(i[3]=[s("silly.task",-1)])]),_:1}),i[5]||(i[5]=s(" 模块。",-1))]),i[19]||(i[19]=l("h2",{id:"分布式追踪",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#分布式追踪"},[l("span",null,"分布式追踪")])],-1)),l("p",null,[i[7]||(i[7]=s("请参考 ",-1)),a(e,{to:"/reference/task.html"},{default:t(()=>[...i[6]||(i[6]=[s("silly.task",-1)])]),_:1}),i[8]||(i[8]=s(" 模块。",-1))]),i[20]||(i[20]=n('<h2 id="错误处理" tabindex="-1"><a class="header-anchor" href="#错误处理"><span>错误处理</span></a></h2><h3 id="silly-error-errmsg" tabindex="-1"><a class="header-anchor" href="#silly-error-errmsg"><span>silly.error(errmsg)</span></a></h3><p>记录错误信息和堆栈跟踪。</p><ul><li><strong>参数</strong>: <ul><li><code>errmsg</code>: <code>string</code> - 错误消息</li></ul></li></ul><h3 id="silly-pcall-f" tabindex="-1"><a class="header-anchor" href="#silly-pcall-f"><span>silly.pcall(f, ...)</span></a></h3><p>受保护调用函数，捕获错误并生成堆栈跟踪。</p><ul><li><strong>参数</strong>: <ul><li><code>f</code>: <code>function</code> - 要调用的函数</li><li><code>...</code>: 函数参数</li></ul></li><li><strong>返回值</strong>: <ul><li><code>boolean</code> - 是否成功</li><li><code>...</code> - 成功时返回函数结果，失败时返回错误信息</li></ul></li></ul><h2 id="高级api" tabindex="-1"><a class="header-anchor" href="#高级api"><span>高级API</span></a></h2><div class="hint-container caution"><p class="hint-container-title">内部API警告</p><p>以下函数以 <code>_</code> 开头，属于内部实现细节，<strong>不应在业务代码中使用</strong>。</p></div><h3 id="silly-start-func" tabindex="-1"><a class="header-anchor" href="#silly-start-func"><span>silly._start(func)</span></a></h3><p>启动主协程（内部API）。</p><h3 id="silly-dispatch-wakeup" tabindex="-1"><a class="header-anchor" href="#silly-dispatch-wakeup"><span>silly._dispatch_wakeup()</span></a></h3><p>调度就绪队列中的任务（内部API）。</p><h2 id="参见" tabindex="-1"><a class="header-anchor" href="#参见"><span>参见</span></a></h2>',14)),l("ul",null,[l("li",null,[a(e,{to:"/reference/task.html"},{default:t(()=>[...i[9]||(i[9]=[s("silly.task",-1)])]),_:1}),i[10]||(i[10]=s(" - 协程管理和任务调度",-1))]),l("li",null,[a(e,{to:"/reference/time.html"},{default:t(()=>[...i[11]||(i[11]=[s("silly.time",-1)])]),_:1}),i[12]||(i[12]=s(" - 定时器和时间管理",-1))]),l("li",null,[a(e,{to:"/reference/hive.html"},{default:t(()=>[...i[13]||(i[13]=[s("silly.hive",-1)])]),_:1}),i[14]||(i[14]=s(" - 工作线程池",-1))]),l("li",null,[a(e,{to:"/sync/"},{default:t(()=>[...i[15]||(i[15]=[s("silly.sync.*",-1)])]),_:1}),i[16]||(i[16]=s(" - 同步原语",-1))])])])}const u=r(p,[["render",g]]),m=JSON.parse('{"path":"/reference/silly.html","title":"silly","lang":"zh-CN","frontmatter":{"title":"silly","icon":"gear","category":["API参考"],"tag":["核心","协程","调度器"],"description":"silly 核心模块，提供基础工具函数和进程管理功能。 模块导入 常量属性 silly.pid 类型: integer 说明: 当前进程ID silly.gitsha1 类型: string 说明: 构建时的Git SHA1版本号 silly.version 类型: string 说明: Silly框架版本号 核心函数 silly.genid() 生成...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"silly\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-22T01:39:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"重归混沌\\",\\"url\\":\\"https://blog.gotocoding.com\\"}]}"],["meta",{"property":"og:url","content":"https://gotocoding.com/silly/reference/silly.html"}],["meta",{"property":"og:site_name","content":"参考手册"}],["meta",{"property":"og:title","content":"silly"}],["meta",{"property":"og:description","content":"silly 核心模块，提供基础工具函数和进程管理功能。 模块导入 常量属性 silly.pid 类型: integer 说明: 当前进程ID silly.gitsha1 类型: string 说明: 构建时的Git SHA1版本号 silly.version 类型: string 说明: Silly框架版本号 核心函数 silly.genid() 生成..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-11-22T01:39:53.000Z"}],["meta",{"property":"article:tag","content":"调度器"}],["meta",{"property":"article:tag","content":"协程"}],["meta",{"property":"article:tag","content":"核心"}],["meta",{"property":"article:modified_time","content":"2025-11-22T01:39:53.000Z"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://gotocoding.com/silly/en/reference/silly.html"}]]},"git":{"createdTime":1759638427000,"updatedTime":1763775593000,"contributors":[{"name":"findstr","username":"findstr","email":"findstr@sina.com","commits":4,"url":"https://github.com/findstr"}]},"readingTime":{"minutes":1.45,"words":436},"filePathRelative":"reference/silly.md","autoDesc":true}');export{u as comp,m as data};
