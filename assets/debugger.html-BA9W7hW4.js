import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,a as r,b as i,d as e,e as a,w as l,r as h,o as d}from"./app-BKbUlxdP.js";const k={};function c(o,s){const n=h("RouteLink");return d(),p("div",null,[s[5]||(s[5]=r(`<h1 id="silly-debugger" tabindex="-1"><a class="header-anchor" href="#silly-debugger"><span>silly.debugger</span></a></h1><p>Interactive Lua debugger supporting breakpoints, single-stepping, variable inspection, stack backtraces, and other features for runtime debugging of Lua code.</p><h2 id="module-import" tabindex="-1"><a class="header-anchor" href="#module-import"><span>Module Import</span></a></h2><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> debugger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.debugger&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api"><span>API</span></a></h2><h3 id="debugger-start-read-write" tabindex="-1"><a class="header-anchor" href="#debugger-start-read-write"><span>debugger.start(read, write)</span></a></h3><p>Start debugger session.</p><ul><li><strong>Parameters</strong>: <ul><li><code>read</code>: <code>function() -&gt; string|nil</code> - Read function, returns a line of input, or nil indicating disconnection</li><li><code>write</code>: <code>function(data: string|table)</code> - Write function, sends data to client</li></ul></li><li><strong>Returns</strong>: <code>string|nil</code> - Debugger session end message, or nil on error</li><li><strong>Description</strong>: <ul><li>Debugger is exclusive, only one debug session at a time</li><li>Debugger hooks all active coroutines</li><li>After exiting debugger, all hooks are cleared</li></ul></li></ul><h2 id="debug-commands" tabindex="-1"><a class="header-anchor" href="#debug-commands"><span>Debug Commands</span></a></h2><p>After entering debugger, the following commands are available:</p><h3 id="h-help" tabindex="-1"><a class="header-anchor" href="#h-help"><span>h (help)</span></a></h3><p>Display command help.</p><ul><li><strong>Syntax</strong>: <code>h</code></li></ul><h3 id="b-breakpoint" tabindex="-1"><a class="header-anchor" href="#b-breakpoint"><span>b (breakpoint)</span></a></h3><p>Set breakpoint.</p><ul><li><strong>Syntax</strong>: <code>b [filename] [line]</code></li><li><strong>Parameters</strong>: <ul><li><code>filename</code>: <code>string</code> (optional) - Filename, defaults to current file</li><li><code>line</code>: <code>integer</code> - Line number</li></ul></li><li><strong>Returns</strong>: Breakpoint ID (e.g., <code>$1</code>, <code>$2</code>)</li><li><strong>Example</strong>:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; b main.lua 42</span></span>
<span class="line"><span>Breakpoint $1 at file:main.lua, line:42</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; b 50</span></span>
<span class="line"><span>Breakpoint $2 at file:main.lua, line:50</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="d-delete" tabindex="-1"><a class="header-anchor" href="#d-delete"><span>d (delete)</span></a></h3><p>Delete breakpoint.</p><ul><li><strong>Syntax</strong>: <code>d [breakpoint_id]</code></li><li><strong>Parameters</strong>: <ul><li><code>breakpoint_id</code>: <code>integer</code> (optional) - Breakpoint ID, omit to delete all breakpoints</li></ul></li><li><strong>Example</strong>:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; d 1</span></span>
<span class="line"><span>Delete breakpoint $1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; d</span></span>
<span class="line"><span>Delete breakpoint $ALL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="n-next" tabindex="-1"><a class="header-anchor" href="#n-next"><span>n (next)</span></a></h3><p>Single step (step over function calls).</p><ul><li><strong>Syntax</strong>: <code>n</code></li><li><strong>Description</strong>: <ul><li>Execute current line, if there&#39;s a function call, won&#39;t enter function</li><li>Only available when paused at breakpoint</li></ul></li></ul><h3 id="s-step" tabindex="-1"><a class="header-anchor" href="#s-step"><span>s (step)</span></a></h3><p>Single step (step into function calls).</p><ul><li><strong>Syntax</strong>: <code>s</code></li><li><strong>Description</strong>: <ul><li>Execute current line, if there&#39;s a function call, will enter function</li><li>Only available when paused at breakpoint</li></ul></li></ul><h3 id="c-continue" tabindex="-1"><a class="header-anchor" href="#c-continue"><span>c (continue)</span></a></h3><p>Continue program execution.</p><ul><li><strong>Syntax</strong>: <code>c</code></li><li><strong>Description</strong>: <ul><li>Continue executing until next breakpoint</li><li>Only available when paused at breakpoint</li></ul></li></ul><h3 id="p-print" tabindex="-1"><a class="header-anchor" href="#p-print"><span>p (print)</span></a></h3><p>Print variable value.</p><ul><li><strong>Syntax</strong>: <code>p &lt;variable_name&gt;</code></li><li><strong>Parameters</strong>: <ul><li><code>variable_name</code>: <code>string</code> - Variable name</li></ul></li><li><strong>Description</strong>: <ul><li>Searches in order: local variables → upvalue → global variables</li><li>Supports printing tables, strings, numbers, and all other types</li><li>Only available when paused at breakpoint</li></ul></li><li><strong>Example</strong>:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; p user_id</span></span>
<span class="line"><span>Param $1 user_id = 12345</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; p config</span></span>
<span class="line"><span>Upvalue $1 config = {[&#39;host&#39;] = &#39;localhost&#39;,[&#39;port&#39;] = 8080,}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; p print</span></span>
<span class="line"><span>Global $_ENV print = function: 0x12345678</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bt-backtrace" tabindex="-1"><a class="header-anchor" href="#bt-backtrace"><span>bt (backtrace)</span></a></h3><p>Print current coroutine&#39;s stack backtrace.</p><ul><li><strong>Syntax</strong>: <code>bt</code></li><li><strong>Description</strong>: <ul><li>Displays complete call stack</li><li>Only available when paused at breakpoint</li></ul></li></ul><h3 id="q-quit" tabindex="-1"><a class="header-anchor" href="#q-quit"><span>q (quit)</span></a></h3><p>Exit debugger.</p><ul><li><strong>Syntax</strong>: <code>q</code></li><li><strong>Description</strong>: <ul><li>Clear all breakpoints</li><li>Resume normal execution of all coroutines</li><li>Close debug session</li></ul></li></ul><h2 id="usage-examples" tabindex="-1"><a class="header-anchor" href="#usage-examples"><span>Usage Examples</span></a></h2><h3 id="example-1-start-debugger-via-console" tabindex="-1"><a class="header-anchor" href="#example-1-start-debugger-via-console"><span>Example 1: Start Debugger via console</span></a></h3><p>The <code>silly.console</code> module has built-in DEBUG command to start debugger:</p><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.console&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;127.0.0.1:8888&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Console started, use &#39;telnet 127.0.0.1 8888&#39; and type &#39;DEBUG&#39; to start debugger&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Connect via telnet and start debugger:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>$ telnet 127.0.0.1 8888</span></span>
<span class="line"><span>console&gt; debug</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; h</span></span>
<span class="line"><span>List of commands:</span></span>
<span class="line"><span>b: Insert a break point [b &#39;filename linenumber&#39;]</span></span>
<span class="line"><span>d: Delete a break point [d &#39;breakpoint id&#39;]</span></span>
<span class="line"><span>n: Step next line, it will over the call [n]</span></span>
<span class="line"><span>s: Step next line, it will into the call [s]</span></span>
<span class="line"><span>c: Continue program being debugged [c]</span></span>
<span class="line"><span>p: Print variable include local/up/global values [p name]</span></span>
<span class="line"><span>bt: Print backtrace of all stack frames [bt]</span></span>
<span class="line"><span>q: Quit debug mode [q]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="example-2-set-breakpoint-and-debug" tabindex="-1"><a class="header-anchor" href="#example-2-set-breakpoint-and-debug"><span>Example 2: Set Breakpoint and Debug</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; b main.lua 100</span></span>
<span class="line"><span>Breakpoint $1 at file:main.lua, line:100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; c</span></span>
<span class="line"><span>(Program continues until breakpoint...)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger main.lua main.lua:100&gt; p request</span></span>
<span class="line"><span>Param $1 request = {[&#39;method&#39;] = &#39;GET&#39;,[&#39;path&#39;] = &#39;/api/users&#39;,}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger main.lua main.lua:100&gt; bt</span></span>
<span class="line"><span>stack traceback:</span></span>
<span class="line"><span>        [C]: in function &#39;breakin&#39;</span></span>
<span class="line"><span>        main.lua:100: in function &#39;handle_request&#39;</span></span>
<span class="line"><span>        main.lua:50: in function &lt;main.lua:45&gt;</span></span>
<span class="line"><span>        ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger main.lua main.lua:100&gt; n</span></span>
<span class="line"><span>(Execute next line)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger main.lua main.lua:101&gt; s</span></span>
<span class="line"><span>(Step into function)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger utils.lua utils.lua:25&gt; p data</span></span>
<span class="line"><span>Param $1 data = &#39;hello world&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger utils.lua utils.lua:25&gt; c</span></span>
<span class="line"><span>(Continue execution)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="example-3-custom-debug-interface" tabindex="-1"><a class="header-anchor" href="#example-3-custom-debug-interface"><span>Example 3: Custom Debug Interface</span></a></h3><p>Can implement debug interface for custom protocol:</p><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> silly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> debugger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.debugger&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.net.tcp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Start debug server</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">listen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;127.0.0.1:9999&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Debugger connected:&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- Define read/write functions</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">readline</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- Start debug session</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">debugger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> then</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Debug session ended:&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Debug session error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Debugger listening on 127.0.0.1:9999&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="example-4-debug-scheduled-tasks" tabindex="-1"><a class="header-anchor" href="#example-4-debug-scheduled-tasks"><span>Example 4: Debug Scheduled Tasks</span></a></h3><p>Suppose there&#39;s scheduled task code:</p><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.time&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> task</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.task&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> timer_task</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> do</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Run 3 times for demo</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Timer tick:&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> then</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        end</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        -- Want to set breakpoint here</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">task</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fork</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">timer_task</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Debug steps:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; b timer.lua 7</span></span>
<span class="line"><span>Breakpoint $1 at file:timer.lua, line:7</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; c</span></span>
<span class="line"><span>(Wait for timer to trigger...)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger timer.lua timer.lua:7&gt; p count</span></span>
<span class="line"><span>Param $1 count = 5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger timer.lua timer.lua:7&gt; n</span></span>
<span class="line"><span>(Execute next line)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger timer.lua timer.lua:8&gt; c</span></span>
<span class="line"><span>(Continue execution)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="example-5-view-table-structure" tabindex="-1"><a class="header-anchor" href="#example-5-view-table-structure"><span>Example 5: View Table Structure</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; p config</span></span>
<span class="line"><span>Upvalue $1 config = {</span></span>
<span class="line"><span>  [&#39;server&#39;] = {</span></span>
<span class="line"><span>    [&#39;host&#39;] = &#39;localhost&#39;,</span></span>
<span class="line"><span>    [&#39;port&#39;] = 8080,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  [&#39;database&#39;] = {</span></span>
<span class="line"><span>    [&#39;host&#39;] = &#39;db.example.com&#39;,</span></span>
<span class="line"><span>    [&#39;name&#39;] = &#39;mydb&#39;,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="example-6-debug-network-request-handling" tabindex="-1"><a class="header-anchor" href="#example-6-debug-network-request-handling"><span>Example 6: Debug Network Request Handling</span></a></h3><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;silly.net.tcp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">listen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0.0.0.0:8080&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- Set breakpoint here to check received data</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">process_request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Debug:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>debugger&gt; b handler.lua 5</span></span>
<span class="line"><span>Breakpoint $1 at file:handler.lua, line:5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger&gt; c</span></span>
<span class="line"><span>(Wait for client connection...)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger handler.lua handler.lua:5&gt; p data</span></span>
<span class="line"><span>Param $1 data = &#39;GET /api/users HTTP/1.1\\r\\n...&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger handler.lua handler.lua:5&gt; p addr</span></span>
<span class="line"><span>Param $2 addr = &#39;192.168.1.100:54321&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>debugger handler.lua handler.lua:5&gt; s</span></span>
<span class="line"><span>(Step into process_request function)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="implementation-details" tabindex="-1"><a class="header-anchor" href="#implementation-details"><span>Implementation Details</span></a></h2><h3 id="hook-mechanism" tabindex="-1"><a class="header-anchor" href="#hook-mechanism"><span>Hook Mechanism</span></a></h3><p>Debugger uses Lua&#39;s debug hook mechanism:</p><ul><li><strong>call hook</strong>: Detects function calls, determines whether to enable line hook</li><li><strong>line hook</strong>: Checks each line of code, determines whether breakpoint is hit</li><li><strong>return hook</strong>: Tracks call stack depth</li></ul><h3 id="breakpoint-detection" tabindex="-1"><a class="header-anchor" href="#breakpoint-detection"><span>Breakpoint Detection</span></a></h3><p>Breakpoints detected through:</p><ol><li>Check if source filename matches (supports suffix matching)</li><li>Check if line number is within function definition range</li><li>Check if current execution line equals breakpoint line</li></ol><h3 id="coroutine-management" tabindex="-1"><a class="header-anchor" href="#coroutine-management"><span>Coroutine Management</span></a></h3><ul><li>Debugger hooks all active coroutines</li><li>When new coroutine created, automatically adds hook</li><li>When coroutine ends, automatically removes hook</li><li>Uses <code>task.hook()</code> to listen to coroutine lifecycle</li></ul><h3 id="thread-locking" tabindex="-1"><a class="header-anchor" href="#thread-locking"><span>Thread Locking</span></a></h3><p>When breakpoint triggers:</p><ul><li>Current coroutine is &quot;locked&quot; (paused)</li><li>Other coroutines continue running normally</li><li>Only locked coroutine can use <code>n</code>/<code>s</code>/<code>c</code>/<code>p</code>/<code>bt</code> commands</li><li>Command prompt shows current file and line number</li></ul><h2 id="notes" tabindex="-1"><a class="header-anchor" href="#notes"><span>Notes</span></a></h2><div class="hint-container warning"><p class="hint-container-title">Performance Impact</p><p>Debugger significantly reduces program performance because it needs to hook every function call and line execution. Do not enable debugger in production environment.</p></div><div class="hint-container warning"><p class="hint-container-title">Concurrency Limitation</p><p>Only one debug session at a time. If debugger is already running, new debug requests will be rejected.</p></div><div class="hint-container tip"><p class="hint-container-title">Breakpoint Activation</p><p>After setting breakpoint, need to execute <code>c</code> command to take effect. Breakpoint only checked on next function call.</p></div><div class="hint-container tip"><p class="hint-container-title">Filename Matching</p><p>Breakpoint filename supports suffix matching, so <code>b main.lua 10</code> can match <code>/path/to/main.lua</code>.</p></div><h2 id="limitations" tabindex="-1"><a class="header-anchor" href="#limitations"><span>Limitations</span></a></h2><ol><li><strong>C Functions</strong>: Cannot debug inside C functions, can only see C function calls</li><li><strong>Tail Calls</strong>: Tail call optimization may cause incomplete stack information</li><li><strong>String Escaping</strong>: Special characters in variable values displayed escaped (e.g., <code>\\n</code>, <code>\\x00</code>)</li><li><strong>Circular References</strong>: Circular references in tables only displayed once to avoid infinite recursion</li><li><strong>Large Tables</strong>: Very large tables may produce excessive output, recommend viewing specific fields only</li></ol><h2 id="integration-with-console" tabindex="-1"><a class="header-anchor" href="#integration-with-console"><span>Integration with console</span></a></h2><p><code>silly.console</code> module has built-in <code>DEBUG</code> command:</p><div class="language-lua line-numbers-mode" data-highlighter="shiki" data-ext="lua" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-lua"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">debug</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">readline</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    local</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic;">dat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tcp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    end</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> debugger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This makes entering debugger through console very convenient.</p><h2 id="see-also" tabindex="-1"><a class="header-anchor" href="#see-also"><span>See Also</span></a></h2>`,86)),i("ul",null,[i("li",null,[e(n,{to:"/en/reference/console.html"},{default:l(()=>[...s[0]||(s[0]=[a("silly.console",-1)])]),_:1}),s[1]||(s[1]=a(" - Console command line",-1))]),i("li",null,[e(n,{to:"/en/reference/logger.html"},{default:l(()=>[...s[2]||(s[2]=[a("silly.logger",-1)])]),_:1}),s[3]||(s[3]=a(" - Logging system",-1))]),s[4]||(s[4]=i("li",null,[i("a",{href:"https://www.lua.org/manual/5.4/manual.html#6.10",target:"_blank",rel:"noopener noreferrer"},"Lua Debug Library"),a(" - Lua debug library documentation")],-1))])])}const b=t(k,[["render",c]]),m=JSON.parse('{"path":"/en/reference/debugger.html","title":"silly.debugger","lang":"en-US","frontmatter":{"title":"silly.debugger","icon":"bug","category":["API Reference"],"tag":["Tools","Debugging","Development"],"description":"silly.debugger Interactive Lua debugger supporting breakpoints, single-stepping, variable inspection, stack backtraces, and other features for runtime debugging of Lua code. Mod...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"silly.debugger\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-30T10:07:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"重归混沌\\",\\"url\\":\\"https://blog.gotocoding.com\\"}]}"],["meta",{"property":"og:url","content":"https://gotocoding.com/silly/en/reference/debugger.html"}],["meta",{"property":"og:site_name","content":"Reference Manual"}],["meta",{"property":"og:title","content":"silly.debugger"}],["meta",{"property":"og:description","content":"silly.debugger Interactive Lua debugger supporting breakpoints, single-stepping, variable inspection, stack backtraces, and other features for runtime debugging of Lua code. Mod..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-30T10:07:21.000Z"}],["meta",{"property":"article:tag","content":"Development"}],["meta",{"property":"article:tag","content":"Debugging"}],["meta",{"property":"article:tag","content":"Tools"}],["meta",{"property":"article:modified_time","content":"2025-11-30T10:07:21.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://gotocoding.com/silly/reference/debugger.html"}]]},"git":{"createdTime":1763775593000,"updatedTime":1764497241000,"contributors":[{"name":"findstr","username":"findstr","email":"findstr@sina.com","commits":2,"url":"https://github.com/findstr"}]},"readingTime":{"minutes":4.2,"words":1260},"filePathRelative":"en/reference/debugger.md","autoDesc":true}');export{b as comp,m as data};
